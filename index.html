<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>What Beer Today?</title>
    <style type="text/css">
    h1{
        font: 5em/1em sans-serif;
    }
    </style>
  </head>
  <body>
  	<h1 id="beer"></h1>
    <h2 id="description"></h2>
    <script>

        (function(){
            "use strict";
            /**
             * Beer constructor
             * @constructor
             */
            var Beer = function(){
                this.beerList = [
                    {name: "Altbier", description: "yo."},
                    {name: "Düsseldorf Altbier", description: "yeah."},
                    {name: "Amber ale", description: "yup."},
                    {name: "Barley wine", description: ""},
                    {name: "American Barleywine", description: ""},
                    {name: "Berliner weisse", description: ""},
                    {name: "Bière de Garde", description: ""},
                    {name: "Bitter", description: ""},
                    {name: "Blonde Ale", description: ""},
                    {name: "Bock", description: ""},
                    {name: "Brown ale", description: ""},
                    {name: "American Brown Ale", description: ""},
                    {name: "California Common", description: ""},
                    {name: "Cream Ale", description: ""},
                    {name: "Dortmunder Export", description: ""},
                    {name: "Doppelbock", description: ""},
                    {name: "Dunkel", description: ""},
                    {name: "Dunkelweizen", description: ""},
                    {name: "Eisbock", description: ""},
                    {name: "Fruit lambic", description: ""},
                    {name: "Golden Ale", description: ""},
                    {name: "Gose", description: ""},
                    {name: "Gueuze", description: ""},
                    {name: "Hefeweizen", description: ""},
                    {name: "Helles", description: ""},
                    {name: "India pale ale", description: ""},
                    {name: "American IPA", description: ""},
                    {name: "Imperial IPA", description: ""},
                    {name: "Kölsch", description: ""},
                    {name: "Lambic", description: ""},
                    {name: "Light ale", description: ""},
                    {name: "Maibock", description: ""},
                    {name: "Helles bock", description: ""},
                    {name: "Malt liquor", description: ""},
                    {name: "Mild", description: ""},
                    {name: "Oktoberfestbier", description: ""},
                    {name: "Märzenbier", description: ""},
                    {name: "Old ale", description: ""},
                    {name: "Oud bruin", description: ""},
                    {name: "Pale ale", description: ""},
                    {name: "Pilsener/Pilsner/Pils", description: ""},
                    {name: "Bohemian Pilsener", description: ""},
                    {name: "Classic American Pilsner", description: ""},
                    {name: "Porter", description: ""},
                    {name: "Red ale", description: ""},
                    {name: "Roggenbier", description: ""},
                    {name: "Saison", description: ""},
                    {name: "Scotch ale", description: ""},
                    {name: "Steam beer", description: ""},
                    {name: "Stout", description: ""},
                    {name: "Oatmeal Stout", description: ""},
                    {name: "Foreign Extra Stout", description: ""},
                    {name: "American Stout", description: ""},
                    {name: "Russian Imperial Stout", description: ""}
                ];

                /**
                 * We choose a random beer from the beer list.
                 */
                this.beerSelection = this.beerList[ (Math.random() * (this.beerList.length - 0) + 0).toFixed() ];

                /**
                 * We create tomorrows date for the cookie.
                 * @type {Date}
                 */
                var tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);

                /**
                 * We set the cookie so that this beer selection is only for the day.
                 * @type {string}
                 */
                document.cookie = "beerName=" + this.beerSelection.name + "; expires=" + tomorrow +" GMT; path=/";
                document.cookie = "beerDescription=" + this.beerSelection.description + "; expires=" + tomorrow +" GMT; path=/";
            };

            /**
             * We create a function to get the name
             * @returns {String}
             */
            Beer.prototype.beerName = function(){
                return this.beerSelection.name;
            };

            /**
             * We create a function to get the description.
             * @returns {string}
             */
            Beer.prototype.beerDescription = function(){
                return this.beerSelection.description;
            };

            /**
             * @type {HTMLElement}
             */
            var beerHeroName = document.getElementById('beer');

            /**
             * @type {HTMLElement}
             */
            var beerHeroDescription = document.getElementById('description');

            /**
             * @type {string}
             */
            var beerCookieName = document.cookie.replace(/(?:(?:^|.*;\s*)beerName\s*\=\s*([^;]*).*$)|^.*$/, "$1");

            /**
             * @type {string}
             */
            var beerCookieDescription = document.cookie.replace(/(?:(?:^|.*;\s*)beerDescription\s*\=\s*([^;]*).*$)|^.*$/, "$1");

            /**
             * check for a cookie before creating a new selection.
             */
            if(beerCookieName){
                beerHeroName.innerHTML = beerCookieName;
                beerHeroDescription.innerHTML = beerCookieDescription;
            } else {
                /**
                 * New Beer.
                 * @type {Beer}
                 */
                var todaysBeer = new Beer();
                beerHeroName.innerHTML = todaysBeer.beerName();
                beerHeroDescription.innerHTML = todaysBeer.beerDescription();
            }
        })();
    </script>
  </body>
</html>